define(["jquery","./media_view","../inflator","utils/html","app/task/build_url"],function(e,t,n,r,i){return function(s,o){typeof s=="string"&&(s={word:s});if(!s)throw new Error("Media object not defined for "+o.name());var u=n(s,"media");return u.template&&(u.template=i(u.template,"template")),u.image&&(u.image=i(u.image,"image")),u.source=e.extend({},u),u.model=o,r(u,{trialData:o.trial.data,stimulusData:o.get("data")}),new t(u)}});