<!DOCTYPE html>

<html>
<head>
  <title>evaluative_priming.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="amp.html">
                amp.js
              </a>
            
              
              <a class="source" href="biat.html">
                biat.js
              </a>
            
              
              <a class="source" href="evaluative_priming.html">
                evaluative_priming.js
              </a>
            
              
              <a class="source" href="evaluative_priming2.html">
                evaluative_priming2.js
              </a>
            
              
              <a class="source" href="gnat.html">
                gnat.js
              </a>
            
              
              <a class="source" href="iat.html">
                iat.js
              </a>
            
              
              <a class="source" href="iat_component_long.html">
                iat_component_long.js
              </a>
            
              
              <a class="source" href="iat_component_short.html">
                iat_component_short.js
              </a>
            
              
              <a class="source" href="spf.html">
                spf.js
              </a>
            
              
              <a class="source" href="st-iat.html">
                st-iat.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>evaluative_priming.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>define([<span class="hljs-string">'app/API'</span>,<span class="hljs-string">'extensions/dscore/Scorer'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(API,Scorer)</span> {</span>
	<span class="hljs-keyword">var</span> category1 = <span class="hljs-string">'Pleasent'</span>;
	<span class="hljs-keyword">var</span> category2 = <span class="hljs-string">'Unpleasent'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Set the size of the screen</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="hljs-string">'canvas'</span>,{
		maxWidth: <span class="hljs-number">1000</span>,
		proportions : <span class="hljs-number">0.8</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Change the colors to allow better presentation of the colored stimuli.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		background: <span class="hljs-string">'white'</span>,
		canvasBackground: <span class="hljs-string">'green'</span>,
		borderWidth: <span class="hljs-number">5</span>,
		borderColor: <span class="hljs-string">'black'</span>
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>the source of the images</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="hljs-string">'base_url'</span>,{
		image : <span class="hljs-string">'../resources/examples/images'</span>
	});

	API.addSettings(<span class="hljs-string">'logger'</span>,{
        pulse: <span class="hljs-number">20</span>,
        url : <span class="hljs-string">'/implicit/PiPlayerApplet'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>use default logger (as copied from documents.txt but replace the regular latency with the computed latency)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        logger: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(trialData, inputData, actionData, logStack)</span>{</span>

			<span class="hljs-keyword">var</span> stimList = <span class="hljs-keyword">this</span>._stimulus_collection.get_stimlist();
			<span class="hljs-keyword">var</span> mediaList = <span class="hljs-keyword">this</span>._stimulus_collection.get_medialist();

			<span class="hljs-keyword">var</span> myLatency = inputData.latency;
			<span class="hljs-keyword">if</span> (trialData.begin &gt; <span class="hljs-number">0</span>) {
				myLatency = inputData.latency - trialData.begin;
			}

			<span class="hljs-keyword">return</span> {
				log_serial : logStack.length,
				trial_id: <span class="hljs-keyword">this</span>._id,
				name: <span class="hljs-keyword">this</span>.name(),
				responseHandle: inputData.handle,
				latency: myLatency, <span class="hljs-comment">// computed latency</span>
				absoluteLatency : inputData.latency, <span class="hljs-comment">// original latency</span>
				stimuli: stimList,
				media: mediaList,
				data: trialData
			};
        }

    });</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>the Scorer that compute the user feedback</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	Scorer.addSettings(<span class="hljs-string">'compute'</span>,{
		ErrorVar:<span class="hljs-string">'score'</span>,
		condVar:<span class="hljs-string">"trialCategories"</span>,
		cond1VarValues: [<span class="hljs-string">"Black People/Bad Words"</span>,<span class="hljs-string">"White People/Good Words"</span>], <span class="hljs-comment">//condition 1</span>
		cond2VarValues: [<span class="hljs-string">"Black People/Good Words"</span>,<span class="hljs-string">"White People/Bad Words"</span>], <span class="hljs-comment">//condition 2</span>
		parcelVar : <span class="hljs-string">"parcel"</span>,
		parcelValue : [<span class="hljs-string">"research"</span>],
		fastRT : <span class="hljs-number">150</span>, <span class="hljs-comment">//Below this reaction time, the latency is considered extremely fast.</span>
		maxFastTrialsRate : <span class="hljs-number">0.1</span>, <span class="hljs-comment">//Above this % of extremely fast responses within a condition, the participant is considered too fast.</span>
		minRT : <span class="hljs-number">150</span>, <span class="hljs-comment">//Below this latency</span>
		maxRT : <span class="hljs-number">5000</span>, <span class="hljs-comment">//above this</span>
		errorLatency : {use:<span class="hljs-string">"false"</span>, penalty:<span class="hljs-number">600</span>, useForSTD:<span class="hljs-literal">true</span>}<span class="hljs-comment">//ignore error respones</span>
	});

	Scorer.addSettings(<span class="hljs-string">'message'</span>,{
		MessageDef: [
			{ cut:<span class="hljs-string">'-0.3'</span>, message:<span class="hljs-string">'Your data suggest an automatic preference for black people over white people.'</span> },<span class="hljs-comment">//D &lt; -0.3</span>
			{ cut:<span class="hljs-string">'0.3'</span>, message:<span class="hljs-string">'Your data suggest no or slight difference in your preference between white people and black people.'</span> },<span class="hljs-comment">// -0.3 &lt;= D &lt;= 0.3</span>
			{ cut:<span class="hljs-string">'5'</span>, message:<span class="hljs-string">'Your data suggest an automatic preference for white people over black people.'</span> }<span class="hljs-comment">// D &gt; 0.3 (and D&lt;=5)</span>
		]
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Define the basic trial (the prsentation of the images and words)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addTrialSets({
		basicTrial: [{
			data : {score:<span class="hljs-number">0</span>},<span class="hljs-comment">// by default each trial is correct, this is modified in case of an error</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Layout defines what will be presented in the trial. It is like a background display.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			layout: [
				{location:{left:<span class="hljs-number">15</span>,top:<span class="hljs-number">3</span>},media:{word:<span class="hljs-string">'key: e'</span>}, css:{color:<span class="hljs-string">'black'</span>,<span class="hljs-string">'font-size'</span>:<span class="hljs-string">'1em'</span>}},
				{location:{left:<span class="hljs-number">75</span>,top:<span class="hljs-number">3</span>},media:{word:<span class="hljs-string">'key: i'</span>}, css:{color:<span class="hljs-string">'black'</span>,<span class="hljs-string">'font-size'</span>:<span class="hljs-string">'1em'</span>}},
				{location:{left:<span class="hljs-number">10</span>,top:<span class="hljs-number">6</span>},media:{word:category2}, css:{color:<span class="hljs-string">'white'</span>,<span class="hljs-string">'font-size'</span>:<span class="hljs-string">'2em'</span>}},
				{location:{left:<span class="hljs-number">70</span>,top:<span class="hljs-number">6</span>},media:{word:category1}, css:{color:<span class="hljs-string">'white'</span>,<span class="hljs-string">'font-size'</span>:<span class="hljs-string">'2em'</span>}}
			],

			input: [
				{handle:<span class="hljs-string">'enter'</span>,on:<span class="hljs-string">'enter'</span>} <span class="hljs-comment">//'enter' to skip the current block</span>
			],</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Set what to do.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			interactions: [
				{
					propositions: [{type:<span class="hljs-string">'begin'</span>}],
					actions: [
						{type:<span class="hljs-string">'showStim'</span>,handle:<span class="hljs-string">'primingImage'</span>},<span class="hljs-comment">// display the first stimulus</span>
						{type:<span class="hljs-string">'setInput'</span>,input:{handle:<span class="hljs-string">'primeOut'</span>,on:<span class="hljs-string">'timeout'</span>,duration:<span class="hljs-number">300</span>}}
					]
				},
				{
					propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'primeOut'</span>}], <span class="hljs-comment">// on time out</span>
					actions: [
						{type:<span class="hljs-string">'hideStim'</span>,handle:<span class="hljs-string">'primingImage'</span>}, <span class="hljs-comment">// hide the first stimulus</span>
						{type:<span class="hljs-string">'showStim'</span>,handle:<span class="hljs-string">'targetStim'</span>},<span class="hljs-comment">// and show the second one</span></pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Set the possible key inputs.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>						{type:<span class="hljs-string">'setInput'</span>,input:{handle:category2,on: <span class="hljs-string">'keypressed'</span>, key:<span class="hljs-string">'e'</span>}},
						{type:<span class="hljs-string">'setInput'</span>,input:{handle:category1,on: <span class="hljs-string">'keypressed'</span>, key:<span class="hljs-string">'i'</span>}},
						{type:<span class="hljs-string">'setInput'</span>,input:{handle:category2,on:<span class="hljs-string">'leftTouch'</span>,touch:<span class="hljs-literal">true</span>}},
						{type:<span class="hljs-string">'setInput'</span>,input:{handle:category1,on:<span class="hljs-string">'rightTouch'</span>,touch:<span class="hljs-literal">true</span>}},
						{type:<span class="hljs-string">'setTrialAttr'</span>,setter:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data,event)</span>{</span>
							data.begin = event.latency;
						}}
					]
				},</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>there are 2 possible responses: “pleasent” and “unpleasent”, here we handle these responses when the user answers
matches the word value (correct response)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				{
					propositions: [
						{type:<span class="hljs-string">'stimEquals'</span>,value:<span class="hljs-string">'wordCategory'</span>}],
					actions: [
						{type:<span class="hljs-string">'log'</span>}, <span class="hljs-comment">// here we call the log action. This is because we want to record the latency of this input (the latency of the response)</span>
						{type:<span class="hljs-string">'removeInput'</span>,handle	:[category2,category1]},<span class="hljs-comment">//only one response is possible</span>
						{type:<span class="hljs-string">'trigger'</span>, handle:<span class="hljs-string">'showFix'</span>}<span class="hljs-comment">//End the trial immidiatlly after correct response</span>
					]
				},</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>there are 2 possible responses: “pleasent” and “unpleasent”, here we handle with these responses when the user answer
doesn’t match the word value (incorrect response)
this propositions are true only after incorrect response
handle incorrect response.
this propositions are true only after incorrect response</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				{
					propositions: [
						{type:<span class="hljs-string">'stimEquals'</span>,value:<span class="hljs-string">'wordCategory'</span>, negate:<span class="hljs-literal">true</span>},
						{type:<span class="hljs-string">'inputEquals'</span>,value: [category1, category2]} <span class="hljs-comment">// This is a category action - as opposed to some timeout.</span>
					],
					actions: [
						{type:<span class="hljs-string">'setTrialAttr'</span>, setter:{score:<span class="hljs-number">1</span>}},
						{type:<span class="hljs-string">'log'</span>}, <span class="hljs-comment">// here we call the log action. This is because we want to record the latency of this input (the latency of the response)</span>
						{type:<span class="hljs-string">'showStim'</span>,handle:<span class="hljs-string">'errorFB'</span>}, <span class="hljs-comment">//show error feedback</span>
						{type:<span class="hljs-string">'removeInput'</span>,handle	:[category2,category1]},<span class="hljs-comment">// block the option to change the answer or to answer twice</span>
						{type:<span class="hljs-string">'setInput'</span>,input:{handle:<span class="hljs-string">'showFix'</span>, on:<span class="hljs-string">'timeout'</span>,duration:<span class="hljs-number">250</span>}} <span class="hljs-comment">//End the trial in 250ms (show the x until then)</span>
					]
				},

				{
					propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'showFix'</span>}], <span class="hljs-comment">//What to do when endTrial is called.</span>
					actions: [
						{type:<span class="hljs-string">'hideStim'</span>,handle:<span class="hljs-string">'All'</span>},
						{type:<span class="hljs-string">'showStim'</span>,handle:<span class="hljs-string">'blankScreen'</span>}, <span class="hljs-comment">//show blankScreen</span>
						{type:<span class="hljs-string">'setInput'</span>,input:{handle:<span class="hljs-string">'endTrial'</span>, on:<span class="hljs-string">'timeout'</span>,duration:{min:<span class="hljs-number">300</span>, max: <span class="hljs-number">900</span>}}} <span class="hljs-comment">// randomly pick from within a range</span>
					]

				},</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>skip block -&gt; if you press ‘enter’ you will skip the current block.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				{
					propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'enter'</span>}],
					actions: [
						{type:<span class="hljs-string">'goto'</span>, destination: <span class="hljs-string">'nextWhere'</span>, properties: {blockStart:<span class="hljs-literal">true</span>}},
						{type:<span class="hljs-string">'endTrial'</span>}
					]
				},
				{
					propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'endTrial'</span>}], <span class="hljs-comment">//What to do when endTrial is called.</span>
					actions: [{type:<span class="hljs-string">'endTrial'</span>}]
				}
			] <span class="hljs-comment">// end interactions</span>
		}] <span class="hljs-comment">// end basic trial</span>
	}); <span class="hljs-comment">// end trialsets</span>

	API.addTrialSets({</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>pleasant+white people (condition 1)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		pleasentWhite:[{
			data: {parcel:<span class="hljs-string">'research'</span>, condition: <span class="hljs-string">"pleasant/white"</span>},
			inherit:{set: <span class="hljs-string">'basicTrial'</span>},
			stimuli: [
				{ inherit: {set: <span class="hljs-string">'targetStimulusA'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'targetStim'</span>} },
				{ inherit: {set: <span class="hljs-string">'primingImage1'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'primingImage'</span>} },
				{ inherit: <span class="hljs-string">'errorFB'</span>},
				{ inherit: <span class="hljs-string">'blankScreen'</span>}
			]
		}],</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>pleasant+black people (condition 2)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		pleasentBlack:[{
			data: {parcel:<span class="hljs-string">'research'</span>,condition: <span class="hljs-string">"pleasant/black "</span>},
			inherit:{set: <span class="hljs-string">'basicTrial'</span>},
			stimuli: [
			{ inherit: {set: <span class="hljs-string">'targetStimulusA'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'targetStim'</span>} },
			{ inherit: {set: <span class="hljs-string">'primingImage2'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'primingImage'</span>} },
			{ inherit: <span class="hljs-string">'errorFB'</span>},
			{ inherit: <span class="hljs-string">'blankScreen'</span>}
			]
		}],</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>unpleasant+white people (condition 2)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		unpleasentWhite:[{
			data: {parcel:<span class="hljs-string">'research'</span>,condition: <span class="hljs-string">"unpleasant/white"</span>},
			inherit:{set: <span class="hljs-string">'basicTrial'</span>},
			stimuli: [
			{ inherit: {set: <span class="hljs-string">'targetStimulusB'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'targetStim'</span>} },
			{ inherit: {set: <span class="hljs-string">'primingImage1'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'primingImage'</span>} },
			{ inherit: <span class="hljs-string">'errorFB'</span>},
			{ inherit: <span class="hljs-string">'blankScreen'</span>}
			]
		}],</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>unpleasant+ black people (condition 1)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		unpleasentBlack:[{
			data: {parcel:<span class="hljs-string">'research'</span>,condition: <span class="hljs-string">"unpleasant/black"</span>},
			inherit:{set: <span class="hljs-string">'basicTrial'</span>},
			stimuli: [
			{ inherit: {set: <span class="hljs-string">'targetStimulusB'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'targetStim'</span>} },
			{ inherit: {set: <span class="hljs-string">'primingImage2'</span>, type:<span class="hljs-string">'exRandom'</span>}, data : {handle:<span class="hljs-string">'primingImage'</span>} },
			{ inherit: <span class="hljs-string">'errorFB'</span>},
			{ inherit: <span class="hljs-string">'blankScreen'</span>}
			]
		}]
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Create the stimuli</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addStimulusSets({</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>These are diffrent types of stimuli.
That way we can later create a stimulus object the inherits from this set randomly.</p>

            </div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>This Default stimulus is inherited by the other stimuli so that we can have a consistent look and change it from one place</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		Default: [
			{css:{color:<span class="hljs-string">'white'</span>,<span class="hljs-string">'font-size'</span>:<span class="hljs-string">'2em'</span>}}
		],
		targetStimulusA: [	<span class="hljs-comment">//first catagory of words</span>
			{
				data : {wordCategory:category1, alias:category1},
				inherit:<span class="hljs-string">'Default'</span>,
				media: {inherit:{type:<span class="hljs-string">'exRandom'</span>,set:<span class="hljs-string">'targetWordsA'</span>}} <span class="hljs-comment">//Select a word from the media, randomly</span>
			}
			],

		targetStimulusB: [	<span class="hljs-comment">//the second catagory of words</span>
			{
				data : {wordCategory:category2, alias:category2},
				inherit:<span class="hljs-string">'Default'</span>,
				media: {inherit:{type:<span class="hljs-string">'exRandom'</span>,set:<span class="hljs-string">'targetWordsB'</span>}}
			}
		],
		errorFB : [<span class="hljs-comment">//Error feedback stimulus</span>
			{
				data : {handle:<span class="hljs-string">'errorFB'</span>},
				size: {height:<span class="hljs-number">15</span>,width:<span class="hljs-number">15</span>},
				location: {top:<span class="hljs-number">70</span>},
				media: {image:<span class="hljs-string">'cross.png'</span>}, <span class="hljs-comment">//An image.</span>
				nolog:<span class="hljs-literal">true</span>
			}
		],
		blankScreen : [<span class="hljs-comment">//blankScreen  stimulus (in between the trials) can be used as a fixation point</span>
			{
				data : {handle:<span class="hljs-string">'blankScreen'</span>},
				media: {word:<span class="hljs-string">' '</span>},<span class="hljs-comment">//can be replace with '+'</span>
				nolog:<span class="hljs-literal">true</span>
			}
		],</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>priming stimulus: the catagories of images</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		primingImage1 : [
			{
				data : {handle:<span class="hljs-string">'primingImage'</span>,alias:<span class="hljs-string">'white'</span>},
				inherit:<span class="hljs-string">'Default'</span>,
				media: {inherit:{type:<span class="hljs-string">'exRandom'</span>,set:<span class="hljs-string">'Images1'</span>}}
			}
		],
		primingImage2 : [
			{
				data : {handle:<span class="hljs-string">'primingImage'</span>,alias:<span class="hljs-string">'black'</span>},
				inherit:<span class="hljs-string">'Default'</span>,
				media: {inherit:{type:<span class="hljs-string">'exRandom'</span>,set:<span class="hljs-string">'Images2'</span>}}
			}
		]
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Create materials (media) for the stimulus
Twp categories of images, and two categories of words.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addMediaSets({
		Images1: [
			{image: <span class="hljs-string">'sw01.jpg'</span>},
			{image: <span class="hljs-string">'sw02.jpg'</span>},
			{image: <span class="hljs-string">'sw03.jpg'</span>},
			{image: <span class="hljs-string">'sw04.jpg'</span>},
			{image: <span class="hljs-string">'sw05.jpg'</span>},
			{image: <span class="hljs-string">'sw06.jpg'</span>},
			{image: <span class="hljs-string">'sw07.jpg'</span>},
			{image: <span class="hljs-string">'sw08.jpg'</span>},
			{image: <span class="hljs-string">'sw09.jpg'</span>},
			{image: <span class="hljs-string">'sw10.jpg'</span>},
			{image: <span class="hljs-string">'sw11.jpg'</span>},
			{image: <span class="hljs-string">'sw12.jpg'</span>}
		],
		Images2: [
			{image: <span class="hljs-string">'sb01.jpg'</span>},
			{image: <span class="hljs-string">'sb02.jpg'</span>},
			{image: <span class="hljs-string">'sb03.jpg'</span>},
			{image: <span class="hljs-string">'sb04.jpg'</span>},
			{image: <span class="hljs-string">'sb05.jpg'</span>},
			{image: <span class="hljs-string">'sb06.jpg'</span>},
			{image: <span class="hljs-string">'sb07.jpg'</span>},
			{image: <span class="hljs-string">'sb08.jpg'</span>},
			{image: <span class="hljs-string">'sb09.jpg'</span>},
			{image: <span class="hljs-string">'sb10.jpg'</span>},
			{image: <span class="hljs-string">'sb11.jpg'</span>},
			{image: <span class="hljs-string">'sb12.jpg'</span>}
		],
		targetWordsA: [
			{word: <span class="hljs-string">'Paradise'</span>},
			{word: <span class="hljs-string">'Pleasure'</span>},
			{word: <span class="hljs-string">'Cheer'</span>},
			{word: <span class="hljs-string">'Friend'</span>},
			{word: <span class="hljs-string">'Splendid'</span>},
			{word: <span class="hljs-string">'Love'</span>},
			{word: <span class="hljs-string">'Glee'</span>},
			{word: <span class="hljs-string">'Smile'</span>},
			{word: <span class="hljs-string">'Enjoy'</span>},
			{word: <span class="hljs-string">'Delight'</span>},
			{word: <span class="hljs-string">'Beautiful'</span>},
			{word: <span class="hljs-string">'Attractive'</span>},
			{word: <span class="hljs-string">'Likeable'</span>},
			{word: <span class="hljs-string">'Wonderful'</span>}
		],
		targetWordsB: [
			{word: <span class="hljs-string">'Bomb'</span>},
			{word: <span class="hljs-string">'Abuse'</span>},
			{word: <span class="hljs-string">'Sadness'</span>},
			{word: <span class="hljs-string">'Pain'</span>},
			{word: <span class="hljs-string">'Poison'</span>},
			{word: <span class="hljs-string">'Grief'</span>},
			{word: <span class="hljs-string">'Ugly'</span>},
			{word: <span class="hljs-string">'Dirty'</span>},
			{word: <span class="hljs-string">'Stink'</span>},
			{word: <span class="hljs-string">'Noxious'</span>},
			{word: <span class="hljs-string">'Humiliate'</span>},
			{word: <span class="hljs-string">'Annoying'</span>},
			{word: <span class="hljs-string">'Disgusting'</span>},
			{word: <span class="hljs-string">'Offensive'</span>}
		]
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Define the instructions trial</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addTrialSets(<span class="hljs-string">'inst'</span>,{
		input: [
			{handle:<span class="hljs-string">'space'</span>,on:<span class="hljs-string">'space'</span>}, <span class="hljs-comment">//Will handle a SPACEBAR reponse</span>
			{handle: <span class="hljs-string">'enter'</span>, on:<span class="hljs-string">'enter'</span>},
			{handle:<span class="hljs-string">'space'</span>,on:<span class="hljs-string">'centerTouch'</span>,touch:<span class="hljs-literal">true</span>}
		],
		interactions: [
			{ <span class="hljs-comment">// begin trial</span>
				propositions: [{type:<span class="hljs-string">'begin'</span>}],
				actions: [{type:<span class="hljs-string">'showStim'</span>,handle:<span class="hljs-string">'All'</span>}] <span class="hljs-comment">//Show the instructions</span>
			},
			{
				propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'space'</span>}], <span class="hljs-comment">//What to do when space is pressed</span>
				actions: [
					{type:<span class="hljs-string">'hideStim'</span>,handle:<span class="hljs-string">'All'</span>}, <span class="hljs-comment">//Hide the instructions</span>
					{type:<span class="hljs-string">'setInput'</span>,input:{handle:<span class="hljs-string">'endTrial'</span>, on:<span class="hljs-string">'timeout'</span>,duration:<span class="hljs-number">500</span>}} <span class="hljs-comment">//In 500ms: end the trial. In the mean time, we get a blank screen.</span>
				]
			},</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>skip block -&gt; if you press ‘enter’ you will skip the current block.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				{
					propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'enter'</span>}],
					actions: [
						{type:<span class="hljs-string">'goto'</span>, destination: <span class="hljs-string">'nextWhere'</span>, properties: {blockStart:<span class="hljs-literal">true</span>}},
						{type:<span class="hljs-string">'endTrial'</span>}
					]
				},
			{
				propositions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'endTrial'</span>}], <span class="hljs-comment">//What to do when endTrial is called.</span>
				actions: [
					{type:<span class="hljs-string">'endTrial'</span>} <span class="hljs-comment">//End the trial</span>
				]
			}
		]
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Defines the sequence of trials</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSequence([
		{ <span class="hljs-comment">//Instructions trial</span>
			data: {blockStart:<span class="hljs-literal">true</span>},
			inherit : <span class="hljs-string">"inst"</span>,
			stimuli: [
				{<span class="hljs-comment">//The instructions stimulus</span></pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>the instructions that will be shown on the screen</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>					media:{html:<span class="hljs-string">'&lt;div&gt;&lt;p style="font-size:24px"&gt;&lt;color="FFFAFA"&gt;Put your middle or index fingers on the &lt;b&gt;E&lt;/b&gt; key of the keyboard, and the &lt;b&gt;I&lt;/b&gt; key as well. &lt;br/&gt; Words and photos will appear one after another. Ignore the photos and categorize the words as pleasant or unpleasant.&lt;br/&gt;&lt;br/&gt;When the word belongs to the catagory "Unpleasant", press the &lt;b&gt;E&lt;/b&gt; key. &lt;br/&gt; when the word belongs to the category "Pleasant", press the &lt;b&gt;I&lt;/b&gt; key.&lt;/br&gt;&lt;/br&gt;If you make an error, an X will appear.&lt;/br&gt;This is a timed sorting task. &lt;b&gt;GO AS FAST AS YOU CAN&lt;/b&gt; while making as few mistakes as possible.&lt;br&gt;This task will take about 5 minutes to complete.&lt;br&gt; press on "space" to begin &lt;br&gt;&lt;br&gt;[Round 1 of 3]&lt;/p&gt;&lt;/div&gt;'</span>}
				}
			]
		},
		{ <span class="hljs-comment">//The presentation trials</span></pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Repeat 60 times the trial. (15 times each combination)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			mixer: <span class="hljs-string">'random'</span>,		<span class="hljs-comment">//</span>
			data : [
				{
					mixer: <span class="hljs-string">'repeat'</span>,
					times: <span class="hljs-number">15</span>,
					data : [
						{inherit: <span class="hljs-string">'pleasentWhite'</span>,data:{block:<span class="hljs-number">0</span>}},
						{inherit: <span class="hljs-string">'pleasentBlack'</span>,data:{block:<span class="hljs-number">0</span>}},
						{inherit: <span class="hljs-string">'unpleasentWhite'</span>,data:{block:<span class="hljs-number">0</span>}},
						{inherit: <span class="hljs-string">'unpleasentBlack'</span>,data:{block:<span class="hljs-number">0</span>}}
					]
				} <span class="hljs-comment">// end wrapper</span>
			]
		},
		{ <span class="hljs-comment">//Instructions trial, second round</span>
			data: {blockStart:<span class="hljs-literal">true</span>},
			inherit : <span class="hljs-string">"inst"</span>,
			stimuli: [
				{<span class="hljs-comment">//The instructions stimulus</span>
					media:{html:<span class="hljs-string">'&lt;div&gt;&lt;p style="font-size:28px"&gt;&lt;color="#FFFAFA"&gt;Press "space" to continue with the same task.&lt;br/&gt;&lt;br/&gt;Please try to challenge yourself to be as fast as you can without making mistakes&lt;br/&gt;&lt;br/&gt;[Round 2 of 3].&lt;/p&gt;&lt;/div&gt;'</span>}
				}
			]
		},
		{ <span class="hljs-comment">//The presentation trials</span></pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Repeat 60 times the trial. (15 times each combination)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			mixer: <span class="hljs-string">'random'</span>,
			data : [
				{
					mixer: <span class="hljs-string">'repeat'</span>,
					times: <span class="hljs-number">15</span>,
					data : [
						{inherit: <span class="hljs-string">'pleasentWhite'</span>,data:{block:<span class="hljs-number">1</span>}},
						{inherit: <span class="hljs-string">'pleasentBlack'</span>,data:{block:<span class="hljs-number">1</span>}},
						{inherit: <span class="hljs-string">'unpleasentWhite'</span>,data:{block:<span class="hljs-number">1</span>}},
						{inherit: <span class="hljs-string">'unpleasentBlack'</span>,data:{block:<span class="hljs-number">1</span>}}
					]
				} <span class="hljs-comment">// end wrapper</span>
			]
		},

		{ <span class="hljs-comment">//Instructions trial, third round</span>
			data: {blockStart:<span class="hljs-literal">true</span>},
			inherit : <span class="hljs-string">"inst"</span>,
			stimuli: [
				{<span class="hljs-comment">//The instructions stimulus</span>
					media:{html:<span class="hljs-string">'&lt;div&gt;&lt;p style="font-size:28px"&gt;&lt;color="#FFFAFA"&gt;Press "space" for the last round.&lt;br/&gt;&lt;br/&gt;[Round 3 of 3].&lt;/p&gt;&lt;/div&gt;'</span>}
				}
			]
		},
		{ <span class="hljs-comment">//The presentation trials</span></pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Repeat 60 times the trial. (15 times each combination)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			mixer: <span class="hljs-string">'random'</span>,		<span class="hljs-comment">//</span>
			data : [
				{
					mixer: <span class="hljs-string">'repeat'</span>,
					times: <span class="hljs-number">15</span>,
					data : [
						{inherit: <span class="hljs-string">'pleasentWhite'</span>,data:{block:<span class="hljs-number">2</span>}},
						{inherit: <span class="hljs-string">'pleasentBlack'</span>,data:{block:<span class="hljs-number">2</span>}},
						{inherit: <span class="hljs-string">'unpleasentWhite'</span>,data:{block:<span class="hljs-number">2</span>}},
						{inherit: <span class="hljs-string">'unpleasentBlack'</span>,data:{block:<span class="hljs-number">2</span>}}
					]
				}
			]
		},</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>user feedback- here we will use the computeD function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		{
			data: {blockStart:<span class="hljs-literal">true</span>},
			inherit: <span class="hljs-string">"inst"</span>,
			stimuli: [],
			customize: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
				<span class="hljs-keyword">var</span> trial = <span class="hljs-keyword">this</span>;
				console.log(<span class="hljs-string">'calling Scorer'</span>);
				<span class="hljs-keyword">var</span> DScore = Scorer.computeD();<span class="hljs-comment">//compute the Dscore</span>
				<span class="hljs-keyword">var</span> FBMsg = Scorer.getFBMsg(DScore);<span class="hljs-comment">//the user feedback</span>
				console.log(<span class="hljs-string">'DScore='</span>+DScore+ <span class="hljs-string">" FBMsg="</span>+FBMsg);
				<span class="hljs-keyword">var</span> media = {media:{html:<span class="hljs-string">'&lt;div&gt;&lt;p style="font-size:28px"&gt;&lt;color="#FFFFFF"&gt; '</span>+FBMsg+<span class="hljs-string">'&lt;br&gt;The Score is:'</span>+DScore+<span class="hljs-string">'&lt;/p&gt;&lt;/div&gt;'</span>}};
				trial.stimuli.push(media);<span class="hljs-comment">//show the user feedback</span>
			}
		},

		{ <span class="hljs-comment">//Instructions trial, the end of the task, instruction what to do next</span>
			data: {blockStart:<span class="hljs-literal">true</span>},
			inherit : <span class="hljs-string">"inst"</span>,
			stimuli: [
				{<span class="hljs-comment">//The instructions stimulus</span>
					data : {<span class="hljs-string">'handle'</span>:<span class="hljs-string">'instStim'</span>},
					media:{html:<span class="hljs-string">'&lt;div&gt;&lt;p style="font-size:28px"&gt;&lt;color="#FFFAFA"&gt;You have completed the study&lt;br/&gt;&lt;br/&gt;Thank you very much for your participation.&lt;br/&gt;&lt;br/&gt; Press "space" for continue to next task.&lt;/p&gt;&lt;/div&gt;'</span>}
				}
			]
		}
	]);

	API.play();
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
