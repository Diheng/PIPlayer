<!DOCTYPE html>

<html>
<head>
  <title>Settings</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="inheritance.html">
                inheritance.js
              </a>
            
              
              <a class="source" href="input.html">
                input.js
              </a>
            
              
              <a class="source" href="interactions.html">
                interactions.js
              </a>
            
              
              <a class="source" href="sequence.html">
                sequence.js
              </a>
            
              
              <a class="source" href="settings.html">
                settings.js
              </a>
            
              
              <a class="source" href="stimulus.html">
                stimulus.js
              </a>
            
              
              <a class="source" href="touch.html">
                touch.js
              </a>
            
              
              <a class="source" href="trial.html">
                trial.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap for-h1">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1>Settings</h1>
<p>This tutorial will show you how to use the API in order to set the global settings for the PIP. </br>
The <code>API.addSettings()</code> function takes two arguments; the first is the property we want to affect (i.e. canvas), and the second is the settings object we want to set in it.
Adding setting is accumulative. this means that adding a specific setting twice merges it in, and does not reset it to its defaults. </br>
The basic structure of the add settings object is as follows:</p>
<pre><code>    API.addSettings(&#39;settingName&#39;,{
        // some settings
    });</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>define([<span class="string">'app/API'</span>], <span class="keyword">function</span>(API) {</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h3>canvas</h3>
<p>The canvas setting controls the general look that the player takes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="comment">/* canvas */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap for-h5">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h5>controling shape</h5>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="string">'canvas'</span>,{</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p><code>maxWidth</code> the maximum width (in pixels) that the canvas may reach. By default it is set to 500px.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		maxWidth: <span class="number">800</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p><code>proportions</code> controls the shape of the canvas (as height/width). By default it is set to 0.8.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		proportions : <span class="number">0.8</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap for-h5">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h5>controling design</h5>

            </div>
            
            <div class="content"><div class='highlight'><pre>		,</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p><code>background</code> controls the background color of the whole screen</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		background: <span class="string">'violet'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p><code>canvasBackground</code> controls the background color of the player canvas</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		canvasBackground: <span class="string">'lightblue'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p><code>borderWidth</code> controls the width of the player canvas borders in pixels</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		borderWidth: <span class="number">4</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p><code>borderColor</code> controls the color of the player canvas borders</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		borderColor: <span class="string">'black'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p><code>css</code> allows you to add your custom css to the canvas element (using the jQuery css API).
This is an advanced way to affect the way your task looks globaly.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		css: {
			color:<span class="string">'tomato'</span>
		}
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <h3>Logger</h3>
<p>The logger section is responsible for logging options. </br>
See documentation if you want to add a custom logger function to replace the default logging action of the player.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="comment">/* Logger */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><code>url</code> is the url to which we send the logged data (ask your IT team what it should be). You should set this if you want to log your data...</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="string">'logger'</span>,{
		url: <span class="string">'my.domain.org/controler.php'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p><code>pulse</code> the maximum size of each data pulse to the server (see documentation for more details).
In this case we post to the server every 20 logs.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		pulse: <span class="number">20</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p><code>fullpath</code> when logging media names should we use the full path, or just the name (false by default)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		fullpath: <span class="literal">false</span>
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <h3>Base url</h3>
<p>The base url section is responsible for loading images and templates. it allows the user to pick a base url from which to load all images and templates. </br></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="comment">/* base url */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>You can input a single url for use for both images and template.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="string">'base_url'</span>,<span class="string">'media'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Or an object with seperate paths for templates and images.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="string">'base_url'</span>,{</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p><code>image</code>: the path to your images</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		image: <span class="string">'media/images'</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p><code>template</code>: the path to your templates</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		template: <span class="string">'media/templates'</span>
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h3>Redirect</h3>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="comment">/* Redirect */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>The redirect setting decides where to redirect the player at the end of the task.
By default, the player simply refreshes the current page.
This option is not used if the endTask hook is set.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="string">'redirect'</span>,<span class="string">'my.domain.ogr/next/'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <h3>Meta data</h3>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="comment">/* Meta data */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Meta data is server side data that should be returned with every request to the server.
Any key value pair in the meta data is added to every post the player makes to the server.
In order to create a post with three keys: json, session_id and task_id - you would write something like this:</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSettings(<span class="string">'metaData'</span>, {
		session_id	: <span class="number">9872356</span>,
		task_id		: <span class="string">'43BTW78'</span>
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <h3>sequence</h3>

            </div>
            
            <div class="content"><div class='highlight'><pre>	API.addSequence([
		{
			input: [{handle:<span class="string">'end'</span>, on:<span class="string">'space'</span>}],
			layout:[{media:{word:<span class="string">'Just a plain trial to show what we can do with settings'</span>}}],
			interactions: [
				{
					propositions: [{type:<span class="string">'inputEquals'</span>,value:<span class="string">'end'</span>}],
					actions: [{type:<span class="string">'endTrial'</span>}]
				}
			]
		}
	]);

	API.play();
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
