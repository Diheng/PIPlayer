<!DOCTYPE html>

<html>
<head>
  <title>trial.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="inheritance.html">
                inheritance.js
              </a>
            
              
              <a class="source" href="input.html">
                input.js
              </a>
            
              
              <a class="source" href="interactions.html">
                interactions.js
              </a>
            
              
              <a class="source" href="sequence.html">
                sequence.js
              </a>
            
              
              <a class="source" href="settings.html">
                settings.js
              </a>
            
              
              <a class="source" href="stimulus.html">
                stimulus.js
              </a>
            
              
              <a class="source" href="touch.html">
                touch.js
              </a>
            
              
              <a class="source" href="trial.html">
                trial.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>trial.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>All PIP source files are wrapped inside define function
This function gives you access to the API object that we use to build the various tasks
If you want to know more about this, you can read up about AMD and check out <a href="http://requirejs.org/">http://requirejs.org/</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>define([<span class="hljs-string">'app/API'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(API)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h3 id="the-trial-sequence">The trial sequence</h3>
<p>The heart of any PIP script is the sequence.
Sequences are arrays of Trial objects. In this part of the tutorial we will see a simple sequence encompasing a single trial.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
	API.addSequence([</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h4 id="trial-structure">Trial structure</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-comment">/* the trial begins here */</span>
		{</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>The data property of the trial is used to keep user defined data regarding this trial.
It can be used to keep track of trial types, blocks, score etc.
It becomes incrementaly usefull with more advance features of the PIP.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			data: {
				myProperty: <span class="hljs-string">'information'</span>,
				myOtherProperty: <span class="hljs-string">'more information'</span>
			},</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>The input property of the trial is used to create the user interface.
In this case we tell the player to listen for hits on the space key.
Later on we will tell the player what to do when the space button is clicked.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			input: [
				{handle:<span class="hljs-string">'space'</span>,on:<span class="hljs-string">'space'</span>}
			],</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>The layout property of the trial is used to display statick stimuli.
These stimuli are automaticaly displayed at the begining of a trial, and are not affected be user interactions.
This property holds an array of stimuli objects, in this case the stimuli are set to display words in the top left and bottom right of the screen.
We will learn more about Stimuli in a later tutorial.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			layout:[
				{location:{left:<span class="hljs-number">0</span>,top:<span class="hljs-number">0</span>},media:{word:<span class="hljs-string">'top left'</span>}},
				{location:{left:<span class="hljs-string">'auto'</span>,right:<span class="hljs-number">0</span>,top:<span class="hljs-string">'auto'</span>,bottom:<span class="hljs-number">0</span>},media:{word:<span class="hljs-string">'bottom right'</span>}}
			],</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>The stimuli property of the trial holds stimuli that are dynamicaly displayed durring the trial.
These trials are not displayed by default, and can be affected by user interactions.
Like the layout property the stimuli property holds an array of stimuli objects.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			stimuli: [
				{media :{word:<span class="hljs-string">'Hello world'</span>}}
			],</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>The interaction property of the trial is responsible for any interactions the user has through the trial.
Each interaction is composed of a propostition (a statement that is either true or false)
And of action to execute in case the condition is true.
We will learn more about this section in the condition and action tutorials.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			interactions: [</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <ol>
<li>Display Stimulus</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>				{
					<span class="hljs-comment">/* when we begin the trial (condition) */</span>
					conditions: [{type:<span class="hljs-string">'begin'</span>}],
					<span class="hljs-comment">/* show all stimuli (action) */</span>
					actions: [{type:<span class="hljs-string">'showStim'</span>,handle:<span class="hljs-string">'All'</span>}]
				},</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <ol>
<li>End trial on space click</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>				{
					<span class="hljs-comment">/* when space is clicked */</span>
					conditions: [{type:<span class="hljs-string">'inputEquals'</span>,value:<span class="hljs-string">'space'</span>}],
					<span class="hljs-comment">/* end the trial */</span>
					actions: [{type:<span class="hljs-string">'endTrial'</span>}]
				}
			]
		}
		<span class="hljs-comment">/* The trial ends here */</span>
	]);
	<span class="hljs-comment">/* this is where we close the sequence */</span>

	API.play();
});
<span class="hljs-comment">/* don't forget to close the require wrapper */</span></pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
